var c=Object.defineProperty,J=Object.defineProperties,Y=Object.getOwnPropertyDescriptor,Q=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var w=(e,o,t)=>o in e?c(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,s=(e,o)=>{for(var t in o||(o={}))E.call(o,t)&&w(e,t,o[t]);if(M)for(var t of M(o))ee.call(o,t)&&w(e,t,o[t]);return e},m=(e,o)=>J(e,Q(o));var i=(e,o)=>()=>(e&&(o=e(e=0)),o);var oe=(e,o)=>{for(var t in o)c(e,t,{get:o[t],enumerable:!0})},te=(e,o,t,r)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of Z(o))!E.call(e,n)&&n!==t&&c(e,n,{get:()=>o[n],enumerable:!(r=Y(o,n))||r.enumerable});return e};var re=e=>te(c({},"__esModule",{value:!0}),e);function I(e,o){let t=`${_}`;return _+=1,a[t]={handler:o,name:e},function(){delete a[t]}}function f(e,o){let t=!1;return I(e,function(...r){t!==!0&&(t=!0,o(...r))})}function b(e,o){for(let t in a)a[t].name===e&&a[t].handler.apply(null,o)}var a,_,p,v=i(()=>{a={},_=0;p=typeof window=="undefined"?function(e,...o){figma.ui.postMessage([e,...o])}:function(e,...o){window.parent.postMessage({pluginMessage:[e,...o]},"*")};typeof window=="undefined"?figma.ui.onmessage=function([e,...o]){b(e,o)}:window.onmessage=function(e){if(typeof e.data.pluginMessage=="undefined")return;let[o,...t]=e.data.pluginMessage;b(o,t)}});function d(e){return{x:e.absoluteTransform[0][2],y:e.absoluteTransform[1][2]}}var B=i(()=>{});function P(e){let o=e.parent;if(o===null)throw new Error("`node.parent` is `null`");return o}var U=i(()=>{});function O(e){if("rotation"in e&&e.rotation===0){let k=d(e),{width:z,height:q}=e;return m(s({},k),{height:q,width:z})}let o=P(e),t=o.children.indexOf(e),r=figma.group([e],o,t),n=d(r),{width:u,height:l}=r;return o.insertChild(t,e),m(s({},n),{height:l,width:u})}var T=i(()=>{B();U()});function g(e){let o=[{x:Number.MAX_VALUE,y:Number.MAX_VALUE},{x:-1*Number.MAX_VALUE,y:-1*Number.MAX_VALUE}];for(let t of e){let{x:r,y:n,width:u,height:l}=O(t);o=[{x:Math.min(o[0].x,r),y:Math.min(o[0].y,n)},{x:Math.max(o[1].x,r+u),y:Math.max(o[1].y,n+l)}]}return o}var H=i(()=>{T()});async function x(e,o=$){let t=await figma.clientStorage.getAsync(o);return typeof t=="undefined"?e:Object.assign({},e,t)}async function y(e,o=$){await figma.clientStorage.setAsync(o,e)}var $,D=i(()=>{$="settings"});function S(e){return`${ne} ${L} ${e}`}function h(e){return`${ie} ${L} ${e}`}var ne,ie,L,F=i(()=>{ne="\u2714",ie="\u2718",L="\xA0"});function A(e,o){if(typeof __html__=="undefined")throw new Error("No UI defined");let t=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof o=="undefined"?{}:o)};${__html__}</script>`;figma.showUI(t,m(s({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var R=i(()=>{});var N=i(()=>{v();H();D();F();R()});function G(e){let o=g(figma.currentPage.selection.slice()),t=figma.createSlice(),r=o[1].x-o[0].x+2*e,n=o[1].y-o[0].y+2*e;return t.x=o[0].x-e,t.y=o[0].y-e,t.resize(r,n),t.name="@SliceOverSelection",t.locked=!0,t}var V=i(()=>{"use strict";N()});var C,K,X=i(()=>{"use strict";C="2021-05-01",K={padding:0}});var W={};oe(W,{default:()=>se});async function se(){if(figma.currentPage.selection.length===0){figma.closePlugin(h("Select one or more layers"));return}let e=await x(K,C);f("CLOSE_UI",function(){figma.closePlugin()}),f("SUBMIT",async function(o){await y(o,C);let{padding:t}=o;if(t===null){figma.closePlugin();return}let r=G(t);figma.currentPage.selection=[r],figma.closePlugin(S("Drew slice over selection"))}),figma.on("selectionchange",function(){p("SELECTION_CHANGED",figma.currentPage.selection.length>0)}),A({height:112,width:240},m(s({},e),{hasSelection:!0}))}var j=i(()=>{"use strict";N();V();X()});var me={"src/main.ts--default":(j(),re(W)).default},ae="src/main.ts--default";me[ae]();
