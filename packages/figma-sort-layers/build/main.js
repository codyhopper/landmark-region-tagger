(()=>{var Ye=Object.create;var C=Object.defineProperty,ke=Object.defineProperties,Ze=Object.getOwnPropertyDescriptor,Je=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertyNames,Y=Object.getOwnPropertySymbols,er=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty,rr=Object.prototype.propertyIsEnumerable;var k=(e,r,t)=>r in e?C(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,w=(e,r)=>{for(var t in r||(r={}))Z.call(r,t)&&k(e,t,r[t]);if(Y)for(var t of Y(r))rr.call(r,t)&&k(e,t,r[t]);return e},b=(e,r)=>ke(e,Je(r));var a=(e,r)=>()=>(e&&(r=e(e=0)),r);var T=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),g=(e,r)=>{for(var t in r)C(e,t,{get:r[t],enumerable:!0})},J=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Qe(r))!Z.call(e,n)&&n!==t&&C(e,n,{get:()=>r[n],enumerable:!(o=Ze(r,n))||o.enumerable});return e};var P=(e,r,t)=>(t=e!=null?Ye(er(e)):{},J(r||!e||!e.__esModule?C(t,"default",{value:e,enumerable:!0}):t,e)),x=e=>J(C({},"__esModule",{value:!0}),e);function F(e){return{x:e.absoluteTransform[0][2],y:e.absoluteTransform[1][2]}}var Q=a(()=>{});function p(e){let r=e.parent;if(r===null)throw new Error("`node.parent` is `null`");return r}var O=a(()=>{});function R(e){if("rotation"in e&&e.rotation===0){let d=F(e),{width:c,height:f}=e;return b(w({},d),{height:f,width:c})}let r=p(e),t=r.children.indexOf(e),o=figma.group([e],r,t),n=F(o),{width:s,height:i}=o;return r.insertChild(t,e),b(w({},n),{height:i,width:s})}var ee=a(()=>{Q();O()});function re(e){if(e.length<2)return!0;let[r,...t]=e,o=p(r);for(let n of t)if(n.parent===null||n.parent.id!==o.id)return!1;return!0}var te=a(()=>{O()});function E(e){let r=tr(e),t=[];for(let o of r){let n=p(o[0]),s=o.map(function(i){return{index:n.children.indexOf(i),node:i}}).sort(function(i,d){return i.index-d.index}).map(function({node:i}){return i});t.push(s)}return t}function tr(e){let r={};for(let t of e){let n=p(t).id;n in r||(r[n]=[]),r[n].push(t)}return Object.values(r)}var oe=a(()=>{O()});var v=T((zr,ie)=>{var ne=function(e,r){var t,o,n=1,s=0,i=0,d=String.alphabet;function c(f,l,u){if(u){for(t=l;u=c(f,t),u<76&&u>65;)++t;return+f.slice(l-1,t)}return u=d&&d.indexOf(f.charAt(l)),u>-1?u+76:(u=f.charCodeAt(l)||0,u<45||u>127?u:u<46?65:u<48?u-1:u<58?u+18:u<65?u-11:u<91?u+11:u<97?u-37:u<123?u+5:u-63)}if((e+="")!=(r+="")){for(;n;)if(o=c(e,s++),n=c(r,i++),o<76&&n<76&&o>66&&n>66&&(o=c(e,s,s),n=c(r,i,s=t),i=t),o!=n)return o<n?-1:1}return 0};try{ie.exports=ne}catch(e){String.naturalCompare=ne}});function _(e){return e.length<2?e.slice():e.slice().sort(function(r,t){let o=r.name.toLowerCase(),n=t.name.toLowerCase();if(o!==n)return(0,L.default)(n,o);let s=t.y-r.y;if(s!==0)return s;let i=t.x-r.x;return i!==0?i:(0,L.default)(t.id,r.id)})}var L,se=a(()=>{L=P(v(),1)});function y(e,r){if(e.length!==r.length)return!1;for(let t in e)if(e[t]!==r[t])return!1;return!0}var j=a(()=>{});function M(e){let r=p(e[0]);if(re(e)===!1)throw new Error("Nodes in `siblingNodes` do not have the same parent");let t=e.slice(),o=r.children.map(function({id:i}){return i}),n=or(t,o);for(let i of t)r.insertChild(n,i);let s=r.children.map(function({id:i}){return i});return y(o,s)===!1}function or(e,r){let t=-1;for(let o of e){let n=r.indexOf(o.id);n>t&&(t=n)}return t+1}var ae=a(()=>{j();O();te()});function I(e){return`${nr} ${ce} ${e}`}function $(e){return`${ir} ${ce} ${e}`}var nr,ir,ce,ue=a(()=>{nr="\u2714",ir="\u2718",ce="\xA0"});var N=a(()=>{ee();oe();se();ae();j();ue()});function m({sortNodes:e,successMessage:r}){let t=$("Select two or more layers");return function(){if(figma.currentPage.selection.length===0){figma.closePlugin(t);return}let o=sr();if(o===null){figma.closePlugin(t);return}let n=!1;for(let s of o){let i=e(s);if(i===null)continue;if(Array.isArray(i)){n=M(i)||n;continue}let d=M(i.fixedNodes),c=M(i.scrollingNodes);n=d||c}figma.closePlugin(n===!0?I(r):"No change to sort order")}}function sr(){let e=figma.currentPage.selection;return e.length===1?"children"in e[0]&&e[0].children.length>1?E(e[0].children.slice()):null:E(e.slice())}var h=a(()=>{"use strict";N()});var fe={};g(fe,{default:()=>ar});var ar,de=a(()=>{"use strict";N();h();ar=m({sortNodes:_,successMessage:"Sorted selected layers by name"})});function le(e){let r=e[0].parent;if(r===null)throw new Error("Node has no parent");return"layoutMode"in r&&r.layoutMode==="HORIZONTAL"?null:e.slice().sort(function(o,n){if(o.x!==n.x)return n.x-o.x;if(o.y!==n.y)return n.y-o.y;let s=o.name.toLowerCase(),i=n.name.toLowerCase();return s!==i?(0,D.default)(i,s):(0,D.default)(n.id,o.id)})}var D,me=a(()=>{"use strict";D=P(v(),1)});var pe={};g(pe,{default:()=>cr});var cr,ge=a(()=>{"use strict";h();me();cr=m({sortNodes:le,successMessage:"Sorted selected layers by X position"})});function xe(e){let r=e[0].parent;if(r===null)throw new Error("Node has no parent");return"layoutMode"in r&&r.layoutMode==="VERTICAL"?null:e.slice().sort(function(o,n){if(o.y!==n.y)return n.y-o.y;if(o.x!==n.x)return n.x-o.x;let s=o.name.toLowerCase(),i=n.name.toLowerCase();return s!==i?(0,z.default)(i,s):(0,z.default)(n.id,o.id)})}var z,ye=a(()=>{"use strict";z=P(v(),1)});var Ne={};g(Ne,{default:()=>ur});var ur,he=a(()=>{"use strict";h();ye();ur=m({sortNodes:xe,successMessage:"Sorted selected layers by Y position"})});function U(e,r,{ignoreNonConfigurable:t=!1}={}){let{name:o}=e;for(let n of Reflect.ownKeys(r))fr(e,r,n,t);return lr(e,r),xr(e,r,o),e}var fr,dr,lr,mr,pr,gr,xr,Se=a(()=>{fr=(e,r,t,o)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;let n=Object.getOwnPropertyDescriptor(e,t),s=Object.getOwnPropertyDescriptor(r,t);!dr(n,s)&&o||Object.defineProperty(e,t,s)},dr=function(e,r){return e===void 0||e.configurable||e.writable===r.writable&&e.enumerable===r.enumerable&&e.configurable===r.configurable&&(e.writable||e.value===r.value)},lr=(e,r)=>{let t=Object.getPrototypeOf(r);t!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,t)},mr=(e,r)=>`/* Wrapped ${e}*/
${r}`,pr=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),gr=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),xr=(e,r,t)=>{let o=t===""?"":`with ${t.trim()}() `,n=mr.bind(null,o,r.toString());Object.defineProperty(n,"name",gr),Object.defineProperty(e,"toString",b(w({},pr),{value:n}))}});var Ce=T((pt,Ae)=>{"use strict";Ae.exports=()=>{let e={};return e.promise=new Promise((r,t)=>{e.resolve=r,e.reject=t}),e}});var be=T((S,H)=>{"use strict";var we=S&&S.__awaiter||function(e,r,t,o){return new(t||(t=Promise))(function(n,s){function i(f){try{c(o.next(f))}catch(l){s(l)}}function d(f){try{c(o.throw(f))}catch(l){s(l)}}function c(f){f.done?n(f.value):new t(function(l){l(f.value)}).then(i,d)}c((o=o.apply(e,r||[])).next())})},yr=S&&S.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S,"__esModule",{value:!0});var Nr=yr(Ce());function q(e,r="maxAge"){let t,o,n,s=()=>we(this,void 0,void 0,function*(){if(t!==void 0)return;let c=f=>we(this,void 0,void 0,function*(){n=Nr.default();let l=f[1][r]-Date.now();if(l<=0){e.delete(f[0]),n.resolve();return}return t=f[0],o=setTimeout(()=>{e.delete(f[0]),n&&n.resolve()},l),typeof o.unref=="function"&&o.unref(),n.promise});try{for(let f of e)yield c(f)}catch(f){}t=void 0}),i=()=>{t=void 0,o!==void 0&&(clearTimeout(o),o=void 0),n!==void 0&&(n.reject(void 0),n=void 0)},d=e.set.bind(e);return e.set=(c,f)=>{e.has(c)&&e.delete(c);let l=d(c,f);return t&&t===c&&i(),s(),l},s(),e}S.default=q;H.exports=q;H.exports.default=q});function W(e,{cacheKey:r,cache:t=new Map,maxAge:o}={}){typeof o=="number"&&(0,Pe.default)(t);let n=function(...s){let i=r?r(s):s[0],d=t.get(i);if(d)return d.data;let c=e.apply(this,s);return t.set(i,{data:c,maxAge:o?Date.now()+o:Number.POSITIVE_INFINITY}),c};return U(n,e,{ignoreNonConfigurable:!0}),hr.set(n,t),n}var Pe,hr,Oe=a(()=>{Se();Pe=P(be(),1),hr=new WeakMap});function B(e){return Sr(e.id,e)}var Sr,ve=a(()=>{"use strict";N();Oe();Sr=W(function(e,r){return R(r)})});function Me(e,r){if("children"in e){let t=e.children;if(t.length<2||e.type==="INSTANCE")return null;if("numberOfFixedChildren"in e&&e.numberOfFixedChildren>0){let n=e.children.length-e.numberOfFixedChildren,s=-1,i=[],d=[];for(;++s<t.length;){let c=t[s];r.indexOf(c.id)!==-1&&(s<n?i.push(c):d.push(c))}return{fixedNodes:G(d),scrollingNodes:G(i)}}let o=t.slice().filter(function(n){return r.indexOf(n.id)!==-1});return G(o)}throw new Error("Node has no children")}function G(e){let[r,...t]=e,o=[r];for(let n of t){let s=0,i=!1;for(;s<o.length;){let d=o[s];if(Ar(n,d)===!0||Cr(n,d)===!0){o.splice(s,0,n),i=!0;break}s++}i===!1&&o.splice(o.length,0,n)}return o.reverse()}function Ar(e,r){let t=B(e),o=B(r);return!(t.x+t.width<=o.x||t.x>=o.x+o.width||t.y+t.height<=o.y||t.y>=o.y+o.height)}function Cr(e,r){let t=B(e),o=B(r),n=t.y-o.y;return n!==0?n<0:t.x-o.x<0}var Ie=a(()=>{"use strict";ve()});function Be(e){let r=e[0].parent;if(r===null)throw new Error("Node has no parent");if("layoutMode"in r&&(r.layoutMode==="HORIZONTAL"||r.layoutMode==="VERTICAL"))return null;let t=e.map(function({id:o}){return o});return Me(r,t)}var Ee=a(()=>{"use strict";Ie()});var Te={};g(Te,{default:()=>wr});var wr,Fe=a(()=>{"use strict";h();Ee();wr=m({sortNodes:Be,successMessage:"Smart sorted selected layers"})});function Re(e){return e.slice().reverse()}var Le=a(()=>{"use strict"});var _e={};g(_e,{default:()=>br});var br,je=a(()=>{"use strict";h();Le();br=m({sortNodes:Re,successMessage:"Reversed layer sort order"})});function V(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got ${typeof e}`);e=[...e];for(let r=e.length-1;r>0;r--){let t=Math.floor(Math.random()*(r+1));[e[r],e[t]]=[e[t],e[r]]}return e}var $e=a(()=>{});function A(e){return e.map(function(r){return r.id})}var X=a(()=>{"use strict"});function De(e){let r;do r=V(e);while(y(A(r),A(e))===!0);return r}var ze=a(()=>{"use strict";N();$e();X()});var Ue={};g(Ue,{default:()=>Pr});var Pr,qe=a(()=>{"use strict";h();ze();Pr=m({sortNodes:De,successMessage:"Randomized layer sort order"})});function He(){return figma.root.children.slice().sort(function(e,r){let t=e.name.toLowerCase(),o=r.name.toLowerCase();return t!==o?(0,K.default)(t,o):(0,K.default)(e.id,r.id)})}var K,We=a(()=>{"use strict";K=P(v(),1)});function Ge(e){let r=figma.root,t=A(r.children.slice()),o=r.children.length;e.forEach(function(s){r.insertChild(o,s)});let n=A(r.children.slice());return y(t,n)===!1}var Ve=a(()=>{"use strict";N();X()});var Xe={};g(Xe,{default:()=>Or});function Or(){let e=He(),r=Ge(e);figma.closePlugin(r===!0?I("Sorted pages by name"):"No change to page sort order")}var Ke=a(()=>{"use strict";N();We();Ve()});var vr={"src/sort-nodes-by-name/main.ts--default":(de(),x(fe)).default,"src/sort-nodes-by-x-position/main.ts--default":(ge(),x(pe)).default,"src/sort-nodes-by-y-position/main.ts--default":(he(),x(Ne)).default,"src/smart-sort-nodes/main.ts--default":(Fe(),x(Te)).default,"src/reverse-nodes-sort-order/main.ts--default":(je(),x(_e)).default,"src/randomize-nodes-sort-order/main.ts--default":(qe(),x(Ue)).default,"src/sort-pages-by-name/main.ts--default":(Ke(),x(Xe)).default},Mr=typeof figma.command=="undefined"||figma.command===""?"src/sort-nodes-by-name/main.ts--default":figma.command;vr[Mr]();})();
/*! Bundled license information:

natural-compare-lite/index.js:
  (*
   * @version    1.4.0
   * @date       2015-10-26
   * @stability  3 - Stable
   * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
   * @license    MIT License
   *)
*/
