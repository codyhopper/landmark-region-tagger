var w=Object.defineProperty,Oe=Object.defineProperties,Be=Object.getOwnPropertyDescriptor,we=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertyNames,q=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable;var k=(e,t,o)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,c=(e,t)=>{for(var o in t||(t={}))Q.call(t,o)&&k(e,o,t[o]);if(q)for(var o of q(t))Fe.call(t,o)&&k(e,o,t[o]);return e},u=(e,t)=>Oe(e,we(t));var i=(e,t)=>()=>(e&&(t=e(e=0)),t);var R=(e,t)=>{for(var o in t)w(e,o,{get:t[o],enumerable:!0})},Te=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ve(t))!Q.call(e,r)&&r!==o&&w(e,r,{get:()=>t[r],enumerable:!(n=Be(t,r))||n.enumerable});return e};var v=e=>Te(w({},"__esModule",{value:!0}),e);function te(e,t){let o=`${Z}`;return Z+=1,I[o]={handler:t,name:e},function(){delete I[o]}}function p(e,t){let o=!1;return te(e,function(...n){o!==!0&&(o=!0,t(...n))})}function ee(e,t){for(let o in I)I[o].name===e&&I[o].handler.apply(null,t)}var I,Z,M,oe=i(()=>{I={},Z=0;M=typeof window=="undefined"?function(e,...t){figma.ui.postMessage([e,...t])}:function(e,...t){window.parent.postMessage({pluginMessage:[e,...t]},"*")};typeof window=="undefined"?figma.ui.onmessage=function([e,...t]){ee(e,t)}:window.onmessage=function(e){if(typeof e.data.pluginMessage=="undefined")return;let[t,...o]=e.data.pluginMessage;ee(t,o)}});function d(e){return{x:e.absoluteTransform[0][2],y:e.absoluteTransform[1][2]}}var $=i(()=>{});function F(e,t){if(typeof t.x=="undefined"&&typeof t.y=="undefined")throw new Error("Need at least one of `x` or `y`");let o=typeof t.x=="undefined"?null:t.x,n=typeof t.y=="undefined"?null:t.y,r=e.parent;for(;r!==null&&r.type!=="PAGE";)(r.type==="FRAME"||r.type==="SECTION")&&(o!==null&&(o=o-r.x),n!==null&&(n=n-r.y)),r=r.parent;o!==null&&(e.x=o),n!==null&&(e.y=n)}var ne=i(()=>{});function l(e){let t=e.parent;if(t===null)throw new Error("`node.parent` is `null`");return t}var S=i(()=>{});function re(e){if("rotation"in e&&e.rotation===0){let a=d(e),{width:y,height:N}=e;return u(c({},a),{height:N,width:y})}let t=l(e),o=t.children.indexOf(e),n=figma.group([e],t,o),r=d(n),{width:f,height:s}=n;return t.insertChild(o,e),u(c({},r),{height:s,width:f})}var ie=i(()=>{$();S()});function b(e){let t=[{x:Number.MAX_VALUE,y:Number.MAX_VALUE},{x:-1*Number.MAX_VALUE,y:-1*Number.MAX_VALUE}];for(let o of e){let{x:n,y:r,width:f,height:s}=re(o);t=[{x:Math.min(t[0].x,n),y:Math.min(t[0].y,r)},{x:Math.max(t[1].x,n+f),y:Math.max(t[1].y,r+s)}]}return t}var se=i(()=>{ie()});function G(e,t){let o=l(t),n=o.children.indexOf(t);o.insertChild(n+1,e)}var ae=i(()=>{S()});function g(e){let t=e.parent;return t===null||t.type==="DOCUMENT"||t.type==="PAGE"?!1:t.type==="INSTANCE"?!0:g(t)}var ce=i(()=>{});function ue(e){let t=e.getPluginData(z);return t===""?{}:JSON.parse(t)}function le(e,t){if(Object.keys(t).length===0){e.setPluginData(z,"");return}e.setPluginData(z,JSON.stringify(t))}var z,fe=i(()=>{z="relaunchButtons"});function x(e,t,o={description:""}){let n=u(c({},ue(e)),{[t]:o.description});le(e,n),e.setRelaunchData(n)}var me=i(()=>{fe()});function de(e){if(e.length<2)return!0;let[t,...o]=e,n=l(t);for(let r of o)if(r.parent===null||r.parent.id!==n.id)return!1;return!0}var pe=i(()=>{S()});function T(e){let t=De(e),o=[];for(let n of t){let r=l(n[0]),f=n.map(function(s){return{index:r.children.indexOf(s),node:s}}).sort(function(s,a){return s.index-a.index}).map(function({node:s}){return s});o.push(f)}return o}function De(e){let t={};for(let o of e){let r=l(o).id;r in t||(t[r]=[]),t[r].push(o)}return Object.values(t)}var ge=i(()=>{S()});function K(e){if(e.length<2)return e.slice();let t=l(e[0]);if(de(e)===!1)throw new Error("Nodes in `siblingNodes` do not have the same parent");return e.slice().map(function(o){return{index:t.children.indexOf(o),node:o}}).sort(function(o,n){return o.index-n.index}).map(function({node:o}){return o})}var xe=i(()=>{S();pe()});async function _(e,t=he){let o=await figma.clientStorage.getAsync(t);return typeof o=="undefined"?e:Object.assign({},e,o)}async function U(e,t=he){await figma.clientStorage.setAsync(t,e)}var he,ye=i(()=>{he="settings"});function h(e){return`${He} ${Ne} ${e}`}function m(e){return`${Le} ${Ne} ${e}`}var He,Le,Ne,Pe=i(()=>{He="\u2714",Le="\u2718",Ne="\xA0"});function W(e,t,o){return e===1?t:typeof o=="undefined"?`${t}s`:o}var Se=i(()=>{});function O(e,t){if(typeof __html__=="undefined")throw new Error("No UI defined");let o=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof t=="undefined"?{}:t)};${__html__}</script>`;figma.showUI(o,u(c({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var Ae=i(()=>{});var A=i(()=>{oe();$();ne();se();ae();ce();me();ge();xe();ye();Pe();Se();Ae()});var C,D=i(()=>{"use strict";C="framePaddingSettings"});var E,H,V=i(()=>{"use strict";E="2021-05-01",H={horizontalPadding:0,verticalPadding:0}});function Ce(e,t){let o=t.horizontalPadding===null?0:t.horizontalPadding,n=t.verticalPadding===null?0:t.verticalPadding,f=K(e)[e.length-1],s=figma.createFrame();G(s,f),s.name="Frame";let a=b(e);F(s,{x:a[0].x-o,y:a[0].y-n});let y=a[1].x-a[0].x+o*2,N=a[1].y-a[0].y+n*2;s.resize(y,N),s.fills=[{color:{b:1,g:1,r:1},type:"SOLID"}];for(let P of e){let{x:B,y:Ue}=d(P);s.appendChild(P),F(P,{x:B,y:Ue})}return s}var Ee=i(()=>{"use strict";A()});var Ie={};R(Ie,{default:()=>Re});async function Re(){if(figma.currentPage.selection.length===0){figma.closePlugin(m("Select one or more layers"));return}let e=T(figma.currentPage.selection.slice());if(e.length>1){figma.closePlugin(m("Select sibling layers at the same hierarchy"));return}let t=e[0];if(g(t[0])===!0){figma.closePlugin(m("Select layers outside instance layers"));return}let o=await _(H,E);figma.on("selectionchange",function(){M("SELECTION_CHANGED",$e())}),p("SUBMIT",async function(n){await U(n,E);let r=Ce(figma.currentPage.selection.slice(),n);r.setPluginData(C,JSON.stringify(n)),x(r,"updateFramePadding"),x(r,"editFramePadding"),figma.currentPage.selection=[r],figma.closePlugin(h("Framed selected layers"))}),p("CLOSE_UI",function(){figma.closePlugin()}),O({height:116,width:240},u(c({},o),{hasSelection:!0}))}function $e(){let e=T(figma.currentPage.selection.slice());if(e.length>1)return!1;let t=e[0];return g(t[0])!==!0}var Me=i(()=>{"use strict";A();D();V();Ee()});function L(e,t){if(e.children.length===0)return!1;let{horizontalPadding:o,verticalPadding:n}=t,r=b(e.children.slice()),{x:f,y:s}=d(e),a=o===null?null:o-(r[0].x-f),y=n===null?null:n-(r[0].y-s);for(let B of e.children)a!==null&&(B.x+=a),y!==null&&(B.y+=y);let N=o===null?null:r[1].x-r[0].x+2*o,P=n===null?null:r[1].y-r[0].y+2*n;return e.resize(N===null?e.width:N,P===null?e.height:P),!0}var J=i(()=>{"use strict";A()});var Y={};R(Y,{default:()=>Ge});async function Ge(){if(X().length===0){figma.closePlugin(m("Select one or more frames"));return}let e=await _(H,E);figma.on("selectionchange",function(){M("SELECTION_CHANGED",X().length>0)}),p("SUBMIT",async function(t){await U(t,E);let o=X();for(let n of o)L(n,t),n.setPluginData(C,JSON.stringify(t)),x(n,"updateFramePadding"),x(n,"editFramePadding");figma.currentPage.selection=o,figma.closePlugin(h(`Set padding on ${o.length} ${W(o.length,"frame")}`))}),p("CLOSE_UI",function(){figma.closePlugin()}),O({height:116,width:240},u(c({},e),{hasSelection:!0}))}function X(){return figma.currentPage.selection.filter(function(e){return e.type==="FRAME"&&g(e)===!1||e.type==="COMPONENT"||e.type==="COMPONENT_SET"})}var j=i(()=>{"use strict";A();D();V();J()});var be={};R(be,{default:()=>ze});async function ze(){let e=figma.currentPage.selection.slice(),t=0;for(let o of e)o.type!=="COMPONENT"&&o.type!=="FRAME"||Ke(o)===!0&&(t+=1);if(t===0){figma.closePlugin(m("No frames updated"));return}figma.closePlugin(h(t===1?"Updated frame padding":`Updated padding of ${t} frames`))}function Ke(e){let t=e.getPluginData(C);if(t==="")return!1;let o=JSON.parse(t);return L(e,o)}var _e=i(()=>{"use strict";A();J();D()});var We={"src/frame-selection-with-padding/main.ts--default":(Me(),v(Ie)).default,"src/set-frame-padding/main.ts--default":(j(),v(Y)).default,updateFramePadding:(_e(),v(be)).default,editFramePadding:(j(),v(Y)).default},Ve=typeof figma.command=="undefined"||figma.command===""?"src/frame-selection-with-padding/main.ts--default":figma.command;We[Ve]();
