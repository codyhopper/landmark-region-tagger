var l=Object.defineProperty,ee=Object.defineProperties,te=Object.getOwnPropertyDescriptor,oe=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var v=(e,t,o)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,B=(e,t)=>{for(var o in t||(t={}))O.call(t,o)&&v(e,o,t[o]);if(M)for(var o of M(t))ne.call(t,o)&&v(e,o,t[o]);return e},U=(e,t)=>ee(e,oe(t));var a=(e,t)=>()=>(e&&(t=e(e=0)),t);var se=(e,t)=>{for(var o in t)l(e,o,{get:t[o],enumerable:!0})},ie=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of re(t))!O.call(e,r)&&r!==o&&l(e,r,{get:()=>t[r],enumerable:!(s=te(t,r))||s.enumerable});return e};var ae=e=>ie(l({},"__esModule",{value:!0}),e);function u(e,t){let o=`${H}`;return H+=1,p[o]={handler:t,name:e},function(){delete p[o]}}function A(e,t){let o=!1;return u(e,function(...s){o!==!0&&(o=!0,t(...s))})}function $(e,t){for(let o in p)p[o].name===e&&p[o].handler.apply(null,t)}var p,H,N,T=a(()=>{p={},H=0;N=typeof window=="undefined"?function(e,...t){figma.ui.postMessage([e,...t])}:function(e,...t){window.parent.postMessage({pluginMessage:[e,...t]},"*")};typeof window=="undefined"?figma.ui.onmessage=function([e,...t]){$(e,t)}:window.onmessage=function(e){if(typeof e.data.pluginMessage=="undefined")return;let[t,...o]=e.data.pluginMessage;$(t,o)}});function h(e){return{imageHash:figma.createImage(e).hash,scaleMode:"FILL",scalingFactor:.5,type:"IMAGE"}}var D=a(()=>{});function g(e){let t=e.parent;if(t===null)throw new Error("`node.parent` is `null`");return t}var S=a(()=>{});function R(e){if(e.length<2)return!0;let[t,...o]=e,s=g(t);for(let r of o)if(r.parent===null||r.parent.id!==s.id)return!1;return!0}var F=a(()=>{S()});function G(e,t){if(e.length!==t.length)return!1;for(let o in e)if(e[o]!==t[o])return!1;return!0}var j=a(()=>{});function x(e){let t=g(e[0]);if(R(e)===!1)throw new Error("Nodes in `siblingNodes` do not have the same parent");let o=e.slice(),s=t.children.map(function({id:n}){return n}),r=me(o,s);for(let n of o)t.insertChild(r,n);let f=t.children.map(function({id:n}){return n});return G(s,f)===!1}function me(e,t){let o=-1;for(let s of e){let r=t.indexOf(s.id);r>o&&(o=r)}return o+1}var L=a(()=>{j();S();F()});async function y(e,t=K){let o=await figma.clientStorage.getAsync(t);return typeof o=="undefined"?e:Object.assign({},e,o)}async function C(e,t=K){await figma.clientStorage.setAsync(t,e)}var K,V=a(()=>{K="settings"});function w(e){return`${fe} ${ce} ${e}`}var fe,ce,W=a(()=>{fe="\u2714",ce="\xA0"});function b(e,t,o){return e===1?t:typeof o=="undefined"?`${t}s`:o}var z=a(()=>{});function E(e,t){if(typeof __html__=="undefined")throw new Error("No UI defined");let o=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof t=="undefined"?{}:t)};${__html__}</script>`;figma.showUI(o,U(B({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var X=a(()=>{});var P=a(()=>{T();D();L();V();W();z();X()});function k(e,t){let{bytes:o,x:s,y:r,width:f,height:n}=e,{resolution:c,xOffset:d,yOffset:m}=t,i=figma.createRectangle();return i.name="Image",i.x=s/c+d,i.y=r/c+m,i.resize(f/c,n/c),i.fills=[h(o)],i}var Y=a(()=>{"use strict";P()});var I,_,q=a(()=>{"use strict";I="2021-05-01",_={insertAs2x:!1}});var J={};se(J,{default:()=>de});async function de(){let e=Math.round(figma.viewport.center.x),t=Math.round(figma.viewport.center.y),o=[],s=await y(_,I);figma.on("drop",function(r){e=r.absoluteX,t=r.absoluteY;let f=[];for(let n of r.files)(n.type==="image/png"||n.type==="image/jpeg")&&f.push(n.getBytesAsync());return f.length===0?!0:(Promise.all(f).then(function(n){let c=n.map(function(d,m){let i=r.files[m];return{bytes:d,name:i.name,type:i.type}});N("DROP_IMAGES",c)}),!1)}),A("CLOSE_UI",function(){figma.closePlugin()}),u("SAVE_SETTINGS",async function(r){await C({insertAs2x:r},I)}),u("INSERT_BIG_IMAGE",async function(r,f){let{name:n,done:c}=f,{insertAs2x:d}=await y(_,I),m=[];for(let i of r){let Q=k(i,{resolution:d===!0?2:1,xOffset:e,yOffset:t});m.push(Q)}if(m.length===1)m[0].name=n,o.push(m[0]),e+=m[0].width;else{x(m);let i=figma.group(m,figma.currentPage);i.name=n,o.push(i),e+=i.width}c!==!1&&(x(o),figma.currentPage.selection=o,figma.viewport.scrollAndZoomIntoView(o),figma.closePlugin(w(`Inserted ${o.length} ${b(o.length,"image")}`)))}),E({height:220,width:240},s)}var Z=a(()=>{"use strict";P();Y();q()});var pe={"src/main.ts--default":(Z(),ae(J)).default},ue="src/main.ts--default";pe[ue]();
