var je=Object.create;var C=Object.defineProperty,Ke=Object.defineProperties,qe=Object.getOwnPropertyDescriptor,Je=Object.getOwnPropertyDescriptors,Ve=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,Xe=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable;var K=(e,t,o)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,M=(e,t)=>{for(var o in t||(t={}))q.call(t,o)&&K(e,o,t[o]);if(j)for(var o of j(t))Ye.call(t,o)&&K(e,o,t[o]);return e},O=(e,t)=>Ke(e,Je(t));var i=(e,t)=>()=>(e&&(t=e(e=0)),t);var Qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),S=(e,t)=>{for(var o in t)C(e,o,{get:t[o],enumerable:!0})},J=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Ve(t))!q.call(e,r)&&r!==o&&C(e,r,{get:()=>t[r],enumerable:!(n=qe(t,r))||n.enumerable});return e};var Ze=(e,t,o)=>(o=e!=null?je(Xe(e)):{},J(t||!e||!e.__esModule?C(o,"default",{value:e,enumerable:!0}):o,e)),P=e=>J(C({},"__esModule",{value:!0}),e);function Y(e,t){let o=`${V}`;return V+=1,A[o]={handler:t,name:e},function(){delete A[o]}}function w(e,t){let o=!1;return Y(e,function(...n){o!==!0&&(o=!0,t(...n))})}function X(e,t){for(let o in A)A[o].name===e&&A[o].handler.apply(null,t)}var A,V,b,Q=i(()=>{A={},V=0;b=typeof window=="undefined"?function(e,...t){figma.ui.postMessage([e,...t])}:function(e,...t){window.parent.postMessage({pluginMessage:[e,...t]},"*")};typeof window=="undefined"?figma.ui.onmessage=function([e,...t]){X(e,t)}:window.onmessage=function(e){if(typeof e.data.pluginMessage=="undefined")return;let[t,...o]=e.data.pluginMessage;X(t,o)}});function T(e){return{x:e.absoluteTransform[0][2],y:e.absoluteTransform[1][2]}}var Z=i(()=>{});function v(e,t){if(typeof t.x=="undefined"&&typeof t.y=="undefined")throw new Error("Need at least one of `x` or `y`");let o=typeof t.x=="undefined"?null:t.x,n=typeof t.y=="undefined"?null:t.y,r=e.parent;for(;r!==null&&r.type!=="PAGE";)(r.type==="FRAME"||r.type==="SECTION")&&(o!==null&&(o=o-r.x),n!==null&&(n=n-r.y)),r=r.parent;o!==null&&(e.x=o),n!==null&&(e.y=n)}var ee=i(()=>{});function R(e,t,o){if(e.removed!==!0){if("children"in e&&(typeof o!="function"||o(e)===!1))for(let n of e.children)R(n,t,o);t(e)}}var te=i(()=>{});function oe(e){let t=e.parent;if(t===null)throw new Error("`node.parent` is `null`");return t}var ne=i(()=>{});function F(){let e=[];for(let t of figma.root.children)for(let o of t.children)R(o,function(n){n.type==="COMPONENT"&&e.push(n)},function(n){return n.type==="COMPONENT"});return e}var re=i(()=>{te()});function h(e,t){let o=oe(t),n=o.children.indexOf(t);o.insertChild(n+1,e)}var ie=i(()=>{ne()});function x(e){let t=e.parent;return t===null||t.type==="DOCUMENT"||t.type==="PAGE"?!1:t.type==="INSTANCE"?!0:x(t)}var se=i(()=>{});var le=Qe((At,ae)=>{var ce=function(e,t){var o,n,r=1,m=0,y=0,E=String.alphabet;function d(g,a,s){if(s){for(o=a;s=d(g,o),s<76&&s>65;)++o;return+g.slice(a-1,o)}return s=E&&E.indexOf(g.charAt(a)),s>-1?s+76:(s=g.charCodeAt(a)||0,s<45||s>127?s:s<46?65:s<48?s-1:s<58?s+18:s<65?s-11:s<91?s+11:s<97?s-37:s<123?s+5:s-63)}if((e+="")!=(t+="")){for(;r;)if(n=d(e,m++),r=d(t,y++),n<76&&r<76&&n>66&&r>66&&(n=d(e,m,m),r=d(t,y,m=o),y=o),n!=r)return n<r?-1:1}return 0};try{ae.exports=ce}catch(e){String.naturalCompare=ce}});function k(e){return e.length<2?e.slice():e.slice().sort(function(t,o){let n=t.name.toLowerCase(),r=o.name.toLowerCase();if(n!==r)return(0,$.default)(r,n);let m=o.y-t.y;if(m!==0)return m;let y=o.x-t.x;return y!==0?y:(0,$.default)(o.id,t.id)})}var $,fe=i(()=>{$=Ze(le(),1)});function l(e){if(e===null||typeof e=="undefined"||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e)){let o=[];for(let n of e)o.push(l(n));return o}let t={};for(let o in e)t[o]=l(e[o]);return t}var ue=i(()=>{});function B(e,t){let o=[];for(let n of e)o.push(et(n,t));return o}function et(e,t){let o={};for(let n of t){let r=e[n];if(typeof r=="undefined")throw new Error(`Key \`${String(n)}\` does not exist on \`object\``);o[n]=r}return o}var me=i(()=>{});async function _(e,t=pe){let o=await figma.clientStorage.getAsync(t);return typeof o=="undefined"?e:Object.assign({},e,o)}async function z(e,t=pe){await figma.clientStorage.setAsync(t,e)}var pe,de=i(()=>{pe="settings"});function u(e){return`${tt} ${ge} ${e}`}function c(e){return`${ot} ${ge} ${e}`}var tt,ot,ge,ye=i(()=>{tt="\u2714",ot="\u2718",ge="\xA0"});function f(e,t,o){return e===1?t:typeof o=="undefined"?`${t}s`:o}var xe=i(()=>{});function U(e,t){if(typeof __html__=="undefined")throw new Error("No UI defined");let o=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof t=="undefined"?{}:t)};${__html__}</script>`;figma.showUI(o,O(M({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var he=i(()=>{});var p=i(()=>{Q();Z();ee();re();ie();se();fe();ue();me();de();ye();xe();he()});var W=i(()=>{"use strict"});function Ne(e,t){for(let o of nt){let n=e[o];typeof n!="undefined"&&(t[o]=n)}}var nt,Ce=i(()=>{"use strict";nt=["clipsContent","cornerRadius","blendMode","effects","effectStyleId","exportSettings","fills","fillStyleId","gridStyleId","layoutGrids","opacity","strokes","strokeStyleId"]});function L(e){let t=e.parent;if(t===null)throw new Error("Node has no parent");let o=t.type;return o==="PAGE"?e:o==="COMPONENT"?t:L(t)}var Se=i(()=>{"use strict"});function Pe(e){let t=figma.createComponent();if(t.name=e.name,t.resizeWithoutConstraints(e.width,e.height),t.x=e.absoluteTransform[0][2],t.y=e.absoluteTransform[1][2],t.fills=[],(e.type==="FRAME"||e.type==="GROUP"||e.type==="INSTANCE")&&typeof e.children!="undefined"){for(let n of e.children)"clone"in n&&t.appendChild(n.clone());Ne(e,t)}else if("clone"in e){let n=e.clone();t.appendChild(n),n.x=0,n.y=0,n.exportSettings.length>0&&(t.exportSettings=l(n.exportSettings),n.exportSettings=[])}let o=L(e);return h(t,o),t}var Ae=i(()=>{"use strict";p();Ce();Se()});var Ie={};S(Ie,{default:()=>rt});async function rt(){let e=figma.currentPage.selection;if(e.length===0){figma.closePlugin(c("Select one or more layers"));return}let t=[];for(let o of e){let n=o.type==="COMPONENT"?o:Pe(o);if(x(o)===!1){let r=n.createInstance();r.x=o.x,r.y=o.y,h(r,o),o.type!=="COMPONENT"&&o.remove()}n.x+=50,n.y+=50,t.push(n)}figma.currentPage.selection=t,figma.closePlugin(u(`Created ${f(e.length,"component from layer",`components from ${e.length} layers`)}`))}var Ee=i(()=>{"use strict";p();W();Ae()});var Me={};S(Me,{default:()=>it});async function it(){if(figma.currentPage.selection.length===0){figma.closePlugin(c("Select a component"));return}let e=figma.currentPage.selection.filter(function(o){return o.type==="COMPONENT"});if(e.length===0){figma.closePlugin(c("No components in selection"));return}let t=[];for(let o of e)if("clone"in o){let n=o.clone();n.x=o.x+50,n.y=o.y+50,h(n,o),t.push(n)}figma.currentPage.selection=t,figma.closePlugin(u(`Copied ${e.length} ${f(e.length,"component")}`))}var Oe=i(()=>{"use strict";p();W()});function we(e,t){t.name=e.name,t.visible=e.visible,t.locked=e.locked,t.clipsContent=l(e.clipsContent),t.guides=l(e.guides),t.layoutGrids=l(e.layoutGrids),t.gridStyleId=e.gridStyleId,t.layoutMode=e.layoutMode,t.layoutMode!=="NONE"&&(t.counterAxisSizingMode=e.counterAxisSizingMode,t.horizontalPadding=e.horizontalPadding,t.verticalPadding=e.verticalPadding,t.itemSpacing=e.itemSpacing),t.fills=l(e.fills),t.strokes=l(e.strokes),t.strokeWeight=e.strokeWeight,t.strokeMiterLimit=e.strokeMiterLimit,t.strokeAlign=e.strokeAlign,t.strokeCap=e.strokeCap,t.strokeJoin=e.strokeJoin,t.dashPattern=l(e.dashPattern),t.fillStyleId=e.fillStyleId,t.strokeStyleId=e.strokeStyleId,t.cornerRadius=e.cornerRadius,t.cornerSmoothing=e.cornerSmoothing,t.cornerRadius===figma.mixed&&(t.topLeftRadius=e.topLeftRadius,t.topRightRadius=e.topRightRadius,t.bottomLeftRadius=e.bottomLeftRadius,t.bottomRightRadius=e.bottomRightRadius),t.opacity=e.opacity,t.blendMode=e.blendMode,t.isMask=e.isMask,t.effects=l(e.effects),t.effectStyleId=e.effectStyleId,t.resizeWithoutConstraints(e.width,e.height);let o=T(e);v(t,o),t.rotation=e.rotation,t.constrainProportions=e.constrainProportions,t.layoutAlign=e.layoutAlign,t.constraints=l(e.constraints),t.exportSettings=l(e.exportSettings)}var be=i(()=>{"use strict";p()});function Te(e){let t=figma.createFrame();if(e.parent===null)throw new Error("Frame has no parent");e.parent.insertChild(e.parent.children.indexOf(e),t);for(let o of e.children)if(o.type==="COMPONENT"){let n=o.createInstance();n.x=o.x,n.y=o.y,t.appendChild(n)}else"clone"in o&&t.appendChild(o.clone());return we(e,t),e.remove(),t}var ve=i(()=>{"use strict";be()});var Re={};S(Re,{default:()=>st});async function st(){if(figma.currentPage.selection.length===0){figma.closePlugin(c("Select a component"));return}let e=figma.currentPage.selection.filter(function(o){return o.type==="COMPONENT"||o.type==="INSTANCE"});if(e.length===0){figma.closePlugin(c("No components in selection"));return}let t=[];for(let o of e){let n=Te(o);t.push(n)}figma.currentPage.selection=t,figma.closePlugin(u(`Converted ${e.length} ${f(e.length,"component")} to ${f(e.length,"frame")}`))}var Fe=i(()=>{"use strict";p();ve()});function G(){return k(F()).reverse().map(function(t){return{id:t.id,name:t.name,pageName:ct(t)}})}function ct(e){let t=e.parent;for(;t!==null&&t.type!=="PAGE";)t=t.parent;if(t===null)throw new Error("Component has no parent");return t.name}var $e=i(()=>{"use strict";p()});function H(){let e=figma.currentPage.selection.filter(function(t){return x(t)===!1});return B(e,["id","name"])}var ke=i(()=>{"use strict";p()});var D,Be,_e=i(()=>{"use strict";D="2021-05-01",Be={shouldResizeToFitNode:!0}});var ze={};S(ze,{default:()=>at});async function at(){if(figma.currentPage.selection.length===0){figma.closePlugin(c("Select one or more layers"));return}let e=H();if(e.length===0){figma.closePlugin(c("Can only replace layers not within an instance"));return}let t=G();if(t.length===0){figma.closePlugin(c("No components in document"));return}let o=await _(Be,D);w("CLOSE_UI",function(){figma.closePlugin()}),w("SUBMIT",async function(n){let{componentId:r,shouldResizeToFitNode:m}=n;await z({shouldResizeToFitNode:m},D);let y=figma.currentPage.selection,E=figma.getNodeById(r),d=[],g=0;for(let a of y){if(x(a)===!0)continue;if(a.id===r){d.push(a);continue}g++;let s=a.parent;if(s===null)throw new Error("Node has no parent");let De=s.children.indexOf(a),N=E.createInstance();s.insertChild(De,N),N.x=a.x,N.y=a.y,m===!0&&N.resize(a.width,a.height),a.remove(),d.push(N)}if(figma.currentPage.selection=d,g===0){figma.closePlugin();return}figma.closePlugin(u(`Replaced ${f(g,"layer",`${g} layers`)} with component`))}),figma.on("selectionchange",function(){b("SELECTION_CHANGED",{componentNodePlainObjects:G(),selectedNodePlainObjects:H()})}),U({height:403,title:"Replace With Component Instance",width:360},O(M({},o),{componentNodePlainObjects:t,selectedNodePlainObjects:e}))}var Ue=i(()=>{"use strict";p();$e();ke();_e()});function We(e){let t=e.mainComponent;if(t===null)throw new Error("Component does not exist");return t.width===e.width&&t.height===e.height?!1:(e.resize(t.width,t.height),!0)}var Le=i(()=>{"use strict"});var Ge={};S(Ge,{default:()=>lt});async function lt(){if(figma.currentPage.selection.length===0){figma.closePlugin(c("Select an instance"));return}let e=figma.currentPage.selection.filter(function(o){return o.type==="INSTANCE"});if(e.length===0){figma.closePlugin(c("No instances in selection"));return}let t=0;for(let o of e)We(o)===!0&&t++;if(t===0){figma.closePlugin("No change to instance size");return}figma.currentPage.selection=e,figma.closePlugin(u(`Reset the size of ${t} ${f(t,"instance")}`))}var He=i(()=>{"use strict";p();Le()});var ft={"src/create-component-from-node/main.ts--default":(Ee(),P(Ie)).default,"src/copy-component/main.ts--default":(Oe(),P(Me)).default,"src/convert-component-to-frame/main.ts--default":(Fe(),P(Re)).default,"src/replace-with-component-instance/main.ts--default":(Ue(),P(ze)).default,"src/reset-instance-size/main.ts--default":(He(),P(Ge)).default},ut=typeof figma.command=="undefined"||figma.command===""?"src/create-component-from-node/main.ts--default":figma.command;ft[ut]();
/*! Bundled license information:

natural-compare-lite/index.js:
  (*
   * @version    1.4.0
   * @date       2015-10-26
   * @stability  3 - Stable
   * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
   * @license    MIT License
   *)
*/
