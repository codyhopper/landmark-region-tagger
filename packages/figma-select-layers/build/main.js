var v=Object.defineProperty,Ce=Object.defineProperties,Ie=Object.getOwnPropertyDescriptor,Oe=Object.getOwnPropertyDescriptors,Te=Object.getOwnPropertyNames,q=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var F=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))V.call(t,r)&&F(e,r,t[r]);if(q)for(var r of q(t))Me.call(t,r)&&F(e,r,t[r]);return e},P=(e,t)=>Ce(e,Oe(t));var s=(e,t)=>()=>(e&&(t=e(e=0)),t);var I=(e,t)=>{for(var r in t)v(e,r,{get:t[r],enumerable:!0})},we=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Te(t))!V.call(e,n)&&n!==r&&v(e,n,{get:()=>t[n],enumerable:!(o=Ie(t,n))||o.enumerable});return e};var i=e=>we(v({},"__esModule",{value:!0}),e);function j(e,t){let r=`${D}`;return D+=1,O[r]={handler:t,name:e},function(){delete O[r]}}function h(e,t){let r=!1;return j(e,function(...o){r!==!0&&(r=!0,t(...o))})}function K(e,t){for(let r in O)O[r].name===e&&O[r].handler.apply(null,t)}var O,D,L,W=s(()=>{O={},D=0;L=typeof window=="undefined"?function(e,...t){figma.ui.postMessage([e,...t])}:function(e,...t){window.parent.postMessage({pluginMessage:[e,...t]},"*")};typeof window=="undefined"?figma.ui.onmessage=function([e,...t]){K(e,t)}:window.onmessage=function(e){if(typeof e.data.pluginMessage=="undefined")return;let[t,...r]=e.data.pluginMessage;K(t,r)}});function g(e,t,r){if(e.removed!==!0){if("children"in e&&(typeof r!="function"||r(e)===!1))for(let o of e.children)g(o,t,r);t(e)}}var z=s(()=>{});function B(e){let t={};for(let r of e)t[r.id]=r;return Object.values(t)}var X=s(()=>{});function T(){let e=figma.currentPage.selection;return e.length>0?e.slice():figma.currentPage.children.slice()}var Z=s(()=>{});function M(e,t){if(e===null||typeof e=="undefined"||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e===t;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r in e)if(M(e[r],t[r])===!1)return!1;return!0}if(t===null||typeof t=="undefined"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Array.isArray(t)||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(M(e[r],t[r])===!1)return!1;return!0}var Y=s(()=>{});async function w(e,t=J){let r=await figma.clientStorage.getAsync(t);return typeof r=="undefined"?e:Object.assign({},e,r)}async function E(e,t=J){await figma.clientStorage.setAsync(t,e)}var J,Q=s(()=>{J="settings"});function y(e){return`${ke} ${ee} ${e}`}function d(e){return`${ve} ${ee} ${e}`}var ke,ve,ee,te=s(()=>{ke="\u2714",ve="\u2718",ee="\xA0"});function N(e,t,r){return e===1?t:typeof r=="undefined"?`${t}s`:r}var re=s(()=>{});function k(e,t){if(typeof __html__=="undefined")throw new Error("No UI defined");let r=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof t=="undefined"?{}:t)};${__html__}</script>`;figma.showUI(r,P(b({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var oe=s(()=>{});var x=s(()=>{W();X();Z();z();Y();Q();te();re();oe()});var S,C,R=s(()=>{"use strict";S="2021-05-01",C={selectLayersByName:{exactMatch:!1,layerName:""},selectSimilarNodes:{blendMode:!0,"cornerRadius.bottomLeftRadius":!0,"cornerRadius.bottomRightRadius":!0,"cornerRadius.topLeftRadius":!0,"cornerRadius.topRightRadius":!0,"dimension.height":!0,"dimension.width":!0,effectsStyleId:!0,"fill.fills":!0,"fill.fillsStyleId":!0,isMask:!0,locked:!0,opacity:!0,rotation:!0,"stroke.dashPattern":!0,"stroke.strokeAlign":!0,"stroke.strokeCap":!0,"stroke.strokeJoin":!0,"stroke.strokeWeight":!0,"stroke.strokes":!0,"stroke.strokesStyleId":!0,"text.fontName":!0,"text.fontSize":!0,"text.letterSpacing":!0,"text.lineHeight":!0,"text.paragraphIndent":!0,"text.paragraphSpacing":!0,"text.textAlignHorizontal":!0,"text.textAlignVertical":!0,"text.textCase":!0,"text.textDecoration":!0,"text.textStyleId":!0,type:!0,visible:!0}}});function ne(e,t,r){let o=[];if(t==="")return o;if(r===!0)for(let n of e)g(n,function(u){u.name===t&&o.push(u)});else{let n=new RegExp(t,"i");for(let u of e)g(u,function(f){n.test(f.name)===!0&&o.push(f)})}return o}var se=s(()=>{"use strict";x()});var ie={};I(ie,{default:()=>Re});async function Re(){let e=await w(C,S);h("CLOSE_UI",function(){figma.closePlugin()}),h("SUBMIT",async function({exactMatch:o,layerName:n}){await E(P(b({},e),{selectLayersByName:{exactMatch:o,layerName:n}}),S);let u=figma.currentPage.selection.length===0?"on page":"within selection",f=T(),p=ne(f,n,o);if(p.length===0){figma.closePlugin(d(`No layers match \u201C${n}\u201D ${u}`));return}figma.currentPage.selection=p,figma.viewport.scrollAndZoomIntoView(p),figma.closePlugin(y(`Selected ${p.length} ${N(p.length,"layer")} ${u}`))}),figma.on("selectionchange",function(){L("SELECTION_CHANGED",figma.currentPage.selection.length>0)});let{layerName:t,exactMatch:r}=e.selectLayersByName;k({height:176,title:"Select Layers by Name",width:240},{exactMatch:r,hasSelection:figma.currentPage.selection.length>0,layerName:t})}var ce=s(()=>{"use strict";x();R();se()});function _(e){return e.type!=="RECTANGLE"||!Array.isArray(e.fills)?!1:e.fills.length===1&&e.fills[0].type==="IMAGE"}var ae=s(()=>{"use strict"});function m(e){return function(t){return t.type===e}}var le=s(()=>{"use strict"});function c(e,t,r){let[o,n]=typeof e=="string"?[e,`${e}s`]:e;return function(){let u=_e(t,r),f=figma.currentPage.selection.length>0?"within selection":"on page";if(u.length===0){figma.closePlugin(d(`No ${n} ${f}`));return}figma.currentPage.selection=u,figma.viewport.scrollAndZoomIntoView(u),figma.closePlugin(y(`Selected ${u.length} ${N(u.length,o,n)} ${f}`))}}function _e(e,t){let r=T(),o=[];for(let n of r)g(n,function(u){e(u)===!0&&o.push(u)},t);return o}var ue=s(()=>{"use strict";x()});var a={};I(a,{selectBooleanGroups:()=>Xe,selectComponents:()=>Be,selectEllipses:()=>je,selectFrames:()=>Ue,selectGroups:()=>Ge,selectHiddenLayers:()=>Qe,selectImages:()=>Ze,selectInstanceLayers:()=>He,selectLayersWithExports:()=>tt,selectLines:()=>Ke,selectLockedLayers:()=>et,selectMaskLayers:()=>Je,selectPolygons:()=>We,selectRectangles:()=>De,selectSlices:()=>qe,selectStars:()=>ze,selectTextLayers:()=>Ye,selectVariants:()=>$e,selectVectorLayers:()=>Ve});var Be,$e,He,Ue,Ge,qe,Fe,Ve,De,Ke,je,We,ze,Xe,Ze,Ye,Je,Qe,et,tt,l=s(()=>{"use strict";ae();le();ue();Be=c("component",m("COMPONENT"),function(e){return e.type==="COMPONENT"||e.type==="INSTANCE"}),$e=c("variant",m("COMPONENT_SET"),function(e){return e.type==="COMPONENT"||e.type==="COMPONENT_SET"||e.type==="INSTANCE"}),He=c("instance layer",m("INSTANCE")),Ue=c("frame",m("FRAME")),Ge=c("group",m("GROUP")),qe=c("slice",m("SLICE")),Fe=["BOOLEAN_OPERATION","ELLIPSE","LINE","POLYGON","RECTANGLE","STAR","VECTOR"],Ve=c("vector layer",function(t){return Fe.includes(t.type)&&_(t)===!1},function(e){return e.type==="BOOLEAN_OPERATION"}),De=c("rectangle",function(e){return e.type==="RECTANGLE"&&_(e)===!1}),Ke=c("line",function(e){if(e.type==="LINE")return!0;if(e.type!=="VECTOR"||e.vectorNetwork.vertices.length!==2)return!1;let{tangentStart:t,tangentEnd:r}=e.vectorNetwork.segments[0];return typeof t!="undefined"&&t.x===0&&t.y===0&&typeof r!="undefined"&&r.x===0&&r.y===0}),je=c("ellipse",m("ELLIPSE")),We=c("polygon",m("POLYGON")),ze=c("star",m("STAR")),Xe=c("boolean group",m("BOOLEAN_OPERATION")),Ze=c("image",_),Ye=c("text layer",m("TEXT")),Je=c("mask layer",function(e){return e.type!=="SLICE"&&"isMask"in e&&e.isMask===!0}),Qe=c("hidden layer",function(e){return e.visible===!1}),et=c("locked layer",function(e){return e.locked===!0}),tt=c(["layer with export settings","layers with export settings"],function(e){return e.type!=="WIDGET"&&e.exportSettings.length>0})});function fe(e){if(e.length===0)return figma.currentPage.children.filter(function(r){return"children"in r});let t=[];for(let r of e){let o=r.parent;if(o===null)throw new Error("Node has no parent");(o.type==="BOOLEAN_OPERATION"||o.type==="COMPONENT"||o.type==="COMPONENT_SET"||o.type==="FRAME"||o.type==="GROUP"||o.type==="INSTANCE")&&t.push(o)}return t}var me=s(()=>{"use strict"});function de(e){if(e.length===0)return figma.currentPage.children.slice();let t=[];for(let r of e)t.push(pe(r));return t}function pe(e){let t=e.parent;if(t===null)throw new Error("Node has no parent");if(t.type==="PAGE")return e;if(t.type==="DOCUMENT")throw new Error("Invariant violation");return pe(t)}var ge=s(()=>{"use strict"});function $(e,t){return function(){if(figma.currentPage.children.length===0){figma.closePlugin(d("No layers on page"));return}let r=figma.currentPage.selection.length>0?"within selection":"on page",o=B(t(figma.currentPage.selection.slice()));if(o.length===0){figma.closePlugin(d(`No ${e}s ${r}`));return}figma.currentPage.selection=o,figma.viewport.scrollAndZoomIntoView(o),figma.closePlugin(y(`Selected ${o.length} ${N(o.length,e)}`))}}var ye=s(()=>{"use strict";x()});var H={};I(H,{selectParentLayers:()=>rt,selectRootLayers:()=>ot});var rt,ot,U=s(()=>{"use strict";me();ge();ye();rt=$("parent layer",fe),ot=$("root layer",de)});function Ne(e,t){let r=[];for(let o of figma.currentPage.children)g(o,function(n){nt(t,e,n)===!0&&r.push(n)});return r}function nt(e,t,r){for(let o of e)if(M(t[o],r[o])===!1)return!1;return!0}var xe=s(()=>{"use strict";x()});function Se(e){let t=e.indexOf(".");return t===-1?{categoryKey:null,nodeAttributeName:e}:{categoryKey:e.slice(0,t),nodeAttributeName:e.slice(t+1)}}var Ae=s(()=>{"use strict"});var Ee={};I(Ee,{computeValidNodeAttributeKeys:()=>G,default:()=>st});async function st(){let e=figma.currentPage.selection,t=e.length;if(t!==1){figma.closePlugin(he(t));return}let r=await w(C,S);h("CLOSE_UI",function(){figma.closePlugin()}),h("SUBMIT",async function(f){await E(P(b({},r),{selectSimilarLayers:f}),S);let p=figma.currentPage.selection[0],A=Ne(p,it(f));if(A.length===1){figma.closePlugin(d("No similar layers on page"));return}figma.currentPage.selection=A,figma.viewport.scrollAndZoomIntoView(A),figma.closePlugin(y(`Selected ${A.length} ${N(A.length,"similar layer")}`))}),figma.on("selectionchange",function(){let f=figma.currentPage.selection;if(f.length===1){let p=f[0].type,A=G(o,p);L("SELECTION_CHANGED",A);return}figma.notify(he(f.length)),L("SELECTION_CHANGED",[])});let o=r.selectSimilarNodes,n=e[0].type,u=G(o,n);k({height:437,title:"Select Similar Layers",width:240},{nodeAttributes:o,validNodeAttributeKeys:u})}function he(e){return d(e===0?"Select a reference layer":"Select only one reference layer")}function it(e){let t=[],r=Object.keys(e);for(let o of r){if(e[o]===!1)continue;let{nodeAttributeName:n}=Se(o);t.push(n)}return t}function G(e,t){let r=[],o=Object.keys(e);for(let n of o){if(t==="TEXT"){if(n.indexOf("cornerRadius")===0)continue}else if(n.indexOf("text")===0)continue;r.push(n)}return r}var be=s(()=>{"use strict";x();R();xe();Ae()});var Pe={};I(Pe,{default:()=>ct});async function ct(){await E(C,S),figma.closePlugin("Reset plugin")}var Le=s(()=>{"use strict";x();R()});var at={"src/select-nodes-by-name/main.ts--default":(ce(),i(ie)).default,"src/select-nodes-by-attribute/main.ts--selectComponents":(l(),i(a)).selectComponents,"src/select-nodes-by-attribute/main.ts--selectVariants":(l(),i(a)).selectVariants,"src/select-nodes-by-attribute/main.ts--selectInstanceLayers":(l(),i(a)).selectInstanceLayers,"src/select-nodes-by-attribute/main.ts--selectFrames":(l(),i(a)).selectFrames,"src/select-nodes-by-attribute/main.ts--selectGroups":(l(),i(a)).selectGroups,"src/select-nodes-by-attribute/main.ts--selectSlices":(l(),i(a)).selectSlices,"src/select-nodes-by-attribute/main.ts--selectVectorLayers":(l(),i(a)).selectVectorLayers,"src/select-nodes-by-attribute/main.ts--selectRectangles":(l(),i(a)).selectRectangles,"src/select-nodes-by-attribute/main.ts--selectLines":(l(),i(a)).selectLines,"src/select-nodes-by-attribute/main.ts--selectEllipses":(l(),i(a)).selectEllipses,"src/select-nodes-by-attribute/main.ts--selectPolygons":(l(),i(a)).selectPolygons,"src/select-nodes-by-attribute/main.ts--selectStars":(l(),i(a)).selectStars,"src/select-nodes-by-attribute/main.ts--selectBooleanGroups":(l(),i(a)).selectBooleanGroups,"src/select-nodes-by-attribute/main.ts--selectImages":(l(),i(a)).selectImages,"src/select-nodes-by-attribute/main.ts--selectTextLayers":(l(),i(a)).selectTextLayers,"src/select-nodes-by-attribute/main.ts--selectMaskLayers":(l(),i(a)).selectMaskLayers,"src/select-nodes-by-attribute/main.ts--selectHiddenLayers":(l(),i(a)).selectHiddenLayers,"src/select-nodes-by-attribute/main.ts--selectLockedLayers":(l(),i(a)).selectLockedLayers,"src/select-nodes-by-attribute/main.ts--selectLayersWithExports":(l(),i(a)).selectLayersWithExports,"src/select-nodes-by-hierarchy/main.ts--selectParentLayers":(U(),i(H)).selectParentLayers,"src/select-nodes-by-hierarchy/main.ts--selectRootLayers":(U(),i(H)).selectRootLayers,"src/select-similar-nodes/main.ts--default":(be(),i(Ee)).default,"src/reset-plugin/main.ts--default":(Le(),i(Pe)).default},lt=typeof figma.command=="undefined"||figma.command===""?"src/select-nodes-by-name/main.ts--default":figma.command;at[lt]();
